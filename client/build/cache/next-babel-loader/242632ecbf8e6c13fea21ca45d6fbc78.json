{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport axios from 'axios';\n\nvar AddAccount = function AddAccount(_ref) {\n  var accounts = _ref.accounts,\n      setAccounts = _ref.setAccounts,\n      url = _ref.url;\n\n  var onChange = function onChange(e) {\n    setAccounts({\n      data: accounts.data,\n      url: e.target.value\n    });\n  };\n\n  var handleReset = function handleReset() {\n    Array.from(document.querySelectorAll(\"input\")).forEach(function (input) {\n      return input.value = \"\";\n    });\n  };\n\n  var onSubmitForm = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              e.preventDefault();\n\n              if (!(accounts.url !== '')) {\n                _context.next = 10;\n                break;\n              }\n\n              _context.next = 5;\n              return axios.post(url, {\n                account: accounts.url\n              });\n\n            case 5:\n              response = _context.sent;\n              setAccounts({\n                data: [].concat(_toConsumableArray(accounts.data), [response.data.body]),\n                url: ''\n              });\n              handleReset();\n              _context.next = 11;\n              break;\n\n            case 10:\n              console.log('Empty form ! Fill it out !');\n\n            case 11:\n              _context.next = 16;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0.message);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 13]]);\n    }));\n\n    return function onSubmitForm(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"form\", {\n    className: \"d-flex flex-column mt-5\",\n    onSubmit: onSubmitForm\n  }, __jsx(\"input\", {\n    id: \"inputText\",\n    type: \"text\",\n    className: \"form-control\",\n    onChange: onChange\n  }), __jsx(\"button\", {\n    type: \"button\",\n    className: \"btn btn-outline-primary mt-2\",\n    onClick: onSubmitForm\n  }, \"Add Account\"));\n};\n\nexport default AddAccount;","map":null,"metadata":{},"sourceType":"module"}