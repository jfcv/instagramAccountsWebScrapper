{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/velveet/Documents/coding/fullstack-pern/client/components/addAccount.jsx\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport axios from 'axios';\n\nvar AddAccount = function AddAccount(_ref) {\n  var accounts = _ref.accounts,\n      setAccounts = _ref.setAccounts,\n      url = _ref.url;\n\n  var onChange = function onChange(e) {\n    setAccounts({\n      data: accounts.data,\n      url: e.target.value\n    });\n  };\n\n  var handleReset = function handleReset() {\n    Array.from(document.querySelectorAll(\"input\")).forEach(function (input) {\n      return input.value = \"\";\n    });\n  };\n\n  var onSubmitForm = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              e.preventDefault();\n\n              if (!(accounts.url !== '')) {\n                _context.next = 10;\n                break;\n              }\n\n              _context.next = 5;\n              return axios.post(url, {\n                account: accounts.url\n              });\n\n            case 5:\n              response = _context.sent;\n              setAccounts({\n                data: [].concat(_toConsumableArray(accounts.data), [response.data.body]),\n                url: ''\n              });\n              handleReset();\n              _context.next = 11;\n              break;\n\n            case 10:\n              console.log('Empty form ! Fill it out !');\n\n            case 11:\n              _context.next = 16;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0.message);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 13]]);\n    }));\n\n    return function onSubmitForm(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"form\", {\n    className: \"d-flex flex-column mt-5\",\n    onSubmit: onSubmitForm,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, __jsx(\"input\", {\n    id: \"inputText\",\n    type: \"text\",\n    className: \"form-control\",\n    onChange: onChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }), __jsx(\"button\", {\n    type: \"button\",\n    className: \"btn btn-outline-primary mt-2\",\n    onClick: onSubmitForm,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, \"Add Account\"));\n};\n\n_c = AddAccount;\nexport default AddAccount;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddAccount\");","map":{"version":3,"sources":["/Users/velveet/Documents/coding/fullstack-pern/client/components/addAccount.jsx"],"names":["axios","AddAccount","accounts","setAccounts","url","onChange","e","data","target","value","handleReset","Array","from","document","querySelectorAll","forEach","input","onSubmitForm","preventDefault","post","account","response","body","console","log","error","message"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAAkC;AAAA,MAAhCC,QAAgC,QAAhCA,QAAgC;AAAA,MAAtBC,WAAsB,QAAtBA,WAAsB;AAAA,MAATC,GAAS,QAATA,GAAS;;AAEjD,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,CAAD,EAAO;AACpBH,IAAAA,WAAW,CAAC;AACRI,MAAAA,IAAI,EAAEL,QAAQ,CAACK,IADP;AAERH,MAAAA,GAAG,EAAEE,CAAC,CAACE,MAAF,CAASC;AAFN,KAAD,CAAX;AAIH,GALD;;AAOA,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtBC,IAAAA,KAAK,CAACC,IAAN,CAAWC,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,CAAX,EAA+CC,OAA/C,CACI,UAAAC,KAAK;AAAA,aAAKA,KAAK,CAACP,KAAN,GAAc,EAAnB;AAAA,KADT;AAGH,GAJD;;AAMA,MAAMQ,YAAY;AAAA,yEAAG,iBAAOX,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGbA,cAAAA,CAAC,CAACY,cAAF;;AAHa,oBAIVhB,QAAQ,CAACE,GAAT,KAAiB,EAJP;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAKcJ,KAAK,CAACmB,IAAN,CAAWf,GAAX,EAAe;AAACgB,gBAAAA,OAAO,EAAElB,QAAQ,CAACE;AAAnB,eAAf,CALd;;AAAA;AAKHiB,cAAAA,QALG;AAMTlB,cAAAA,WAAW,CAAC;AACRI,gBAAAA,IAAI,+BAAML,QAAQ,CAACK,IAAf,IAAqBc,QAAQ,CAACd,IAAT,CAAce,IAAnC,EADI;AAERlB,gBAAAA,GAAG,EAAE;AAFG,eAAD,CAAX;AAIAM,cAAAA,WAAW;AAVF;AAAA;;AAAA;AAYTa,cAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;;AAZS;AAAA;AAAA;;AAAA;AAAA;AAAA;AAebD,cAAAA,OAAO,CAACE,KAAR,CAAc,YAAIC,OAAlB;;AAfa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZT,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAoBA,SACI;AAAM,IAAA,SAAS,EAAC,yBAAhB;AAA0C,IAAA,QAAQ,EAAEA,YAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AACI,IAAA,EAAE,EAAC,WADP;AAEI,IAAA,IAAI,EAAC,MAFT;AAGI,IAAA,SAAS,EAAC,cAHd;AAII,IAAA,QAAQ,EAAEZ,QAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAOI;AACI,IAAA,IAAI,EAAC,QADT;AAEI,IAAA,SAAS,EAAC,8BAFd;AAGI,IAAA,OAAO,EAAEY,YAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAPJ,CADJ;AAiBH,CApDD;;KAAMhB,U;AAsDN,eAAeA,UAAf","sourcesContent":["import axios from 'axios';\n\nconst AddAccount = ({accounts, setAccounts, url}) => {\n\n    const onChange = (e) => {\n        setAccounts({\n            data: accounts.data,\n            url: e.target.value\n        });\n    }\n\n    const handleReset = () => {\n        Array.from(document.querySelectorAll(\"input\")).forEach(\n            input => (input.value = \"\")\n        );\n    }\n\n    const onSubmitForm = async (e) => {\n        \n        try {\n            e.preventDefault();\n            if(accounts.url !== '') {\n                const response = await axios.post(url,{account: accounts.url});\n                setAccounts({\n                    data: [...accounts.data, response.data.body],\n                    url: ''\n                });\n                handleReset();\n            } else {\n                console.log('Empty form ! Fill it out !');\n            }\n        } catch (err) {\n            console.error(err.message);\n        }\n        \n    }\n\n    return (\n        <form className=\"d-flex flex-column mt-5\" onSubmit={onSubmitForm}>\n            <input \n                id=\"inputText\"\n                type=\"text\" \n                className=\"form-control\" \n                onChange={onChange}\n            />\n            <button \n                type=\"button\" \n                className=\"btn btn-outline-primary mt-2\"\n                onClick={onSubmitForm}\n            >\n                Add Account\n            </button>\n        </form>\n    )\n}\n\nexport default AddAccount"]},"metadata":{},"sourceType":"module"}