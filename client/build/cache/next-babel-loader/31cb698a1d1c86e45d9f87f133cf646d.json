{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport axios from 'axios';\n\nvar Accounts = function Accounts(_ref) {\n  var accounts = _ref.accounts;\n  return __jsx(\"ul\", {\n    className: \"mt-5\"\n  }, accounts.map(function (account) {\n    return __jsx(\"li\", {\n      className: \"list-group-item list-group-item-action\",\n      key: account.id\n    }, __jsx(\"div\", {\n      className: \"row ml-2\"\n    }, __jsx(\"h5\", {\n      className: \"d-flex\"\n    }, account.id, \"-\", __jsx(\"div\", {\n      id: \"accountUrl/\".concat(account.id)\n    }, account.account)), __jsx(\"button\", {\n      type: \"button\",\n      className: \"btn btn-outline-secondary ml-auto mr-4\",\n      onClick: /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n          var MILISECS, SECONDS, MINUTES, REPORT_PERIOD, accountUrl;\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  try {\n                    e.preventDefault();\n                    MILISECS = 1000;\n                    SECONDS = 60;\n                    MINUTES = 1;\n                    REPORT_PERIOD = MINUTES * SECONDS * MILISECS;\n                    accountUrl = document.getElementById(\"accountUrl/\".concat(account.id)).innerText;\n                    setInterval( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                      var response;\n                      return _regeneratorRuntime.wrap(function _callee$(_context) {\n                        while (1) {\n                          switch (_context.prev = _context.next) {\n                            case 0:\n                              _context.next = 2;\n                              return axios.post('http://localhost:5000/mail', {\n                                account: accountUrl\n                              });\n\n                            case 2:\n                              response = _context.sent;\n                              console.log(response.data);\n\n                            case 4:\n                            case \"end\":\n                              return _context.stop();\n                          }\n                        }\n                      }, _callee);\n                    })), REPORT_PERIOD);\n                  } catch (err) {\n                    console.error(err.message);\n                  }\n\n                case 1:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }()\n    }, \"Track Account\")));\n  }));\n};\n\nexport default Accounts;","map":null,"metadata":{},"sourceType":"module"}